<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="学习 沉淀 成长 分享"><link href=https://github.com/lickwolf/lickwolf.github.io/03-%E5%A4%87%E4%BB%BD/ rel=canonical><meta name=author content="Han Lu"><link rel="shortcut icon" href=../assets/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.5.12"><title>第5章 备份 - Cloudcomputing</title><link rel=stylesheet href=../assets/stylesheets/main.4dd2dd8d.min.css><link rel=stylesheet href=../assets/stylesheets/palette.6a5ad368.min.css><meta name=theme-color content=#2094f3><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style></head> <body dir=ltr data-md-color-scheme=preference data-md-color-primary=blue data-md-color-accent=cyan> <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#00- class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://github.com/lickwolf/lickwolf.github.io title=Cloudcomputing class="md-header-nav__button md-logo" aria-label=Cloudcomputing> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path fill-opacity=.5 d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path fill-opacity=.25 d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Cloudcomputing </span> <span class="md-header-nav__topic md-ellipsis"> 第5章 备份 </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/lickwolf/lickwolf.github.io title="前往 GitHub 仓库" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> HanLu/Cloudcomputing </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/ class="md-tabs__link md-tabs__link--active"> HCIE-Cloudcomputing </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://github.com/lickwolf/lickwolf.github.io title=Cloudcomputing class="md-nav__button md-logo" aria-label=Cloudcomputing> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path fill-opacity=.5 d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path fill-opacity=.25 d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z"/></svg> </a> Cloudcomputing </label> <div class=md-nav__source> <a href=https://github.com/lickwolf/lickwolf.github.io title="前往 GitHub 仓库" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> HanLu/Cloudcomputing </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. title=Home class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2 checked> <label class=md-nav__link for=nav-2> HCIE-Cloudcomputing <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=HCIE-Cloudcomputing data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> HCIE-Cloudcomputing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../00-FusionSphere%EF%BC%88%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%EF%BC%89%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/ title="第1章 FusionSphere" class=md-nav__link> 第1章 FusionSphere </a> </li> <li class=md-nav__item> <a href=../01-FusionAccess%E6%A1%8C%E9%9D%A2%E4%BA%91/ title="第2章 FusionAccess" class=md-nav__link> 第2章 FusionAccess </a> </li> <li class=md-nav__item> <a href=../02-FusionStorage/ title="第3章 FusionStoarge" class=md-nav__link> 第3章 FusionStoarge </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-4 type=checkbox id=nav-2-4> <label class=md-nav__link for=nav-2-4> 第4章 OpenSatck <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="第4章 OpenSatck" data-md-level=2> <label class=md-nav__title for=nav-2-4> <span class="md-nav__icon md-icon"></span> 第4章 OpenSatck </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../OpenStack--%E5%88%86%E4%BA%AB%E7%AF%874-Nova/ title=4.1-OpenStck-Nova class=md-nav__link> 4.1-OpenStck-Nova </a> </li> <li class=md-nav__item> <a href=../OpenStack--%E5%88%86%E4%BA%AB%E7%AF%875-Cinder/ title=4.2-OpenStack-Cinder class=md-nav__link> 4.2-OpenStack-Cinder </a> </li> <li class=md-nav__item> <a href=../OpenStack--%E5%88%86%E4%BA%AB%E7%AF%876-Glance/ title=4.3-OpenStack-Glance class=md-nav__link> 4.3-OpenStack-Glance </a> </li> <li class=md-nav__item> <a href=../OpenStack--%E5%88%86%E4%BA%AB%E7%AF%877-Swift/ title=4.4-OpenStack-Swift class=md-nav__link> 4.4-OpenStack-Swift </a> </li> <li class=md-nav__item> <a href=../OpenStack--%E5%88%86%E4%BA%AB%E7%AF%878-Keystone/ title=4.5-OpenSatck-Keystone class=md-nav__link> 4.5-OpenSatck-Keystone </a> </li> <li class=md-nav__item> <a href=../OpenStack--%E5%88%86%E4%BA%AB%E7%AF%879-Ironic/ title=4.6-OpenStack-Ironic class=md-nav__link> 4.6-OpenStack-Ironic </a> </li> <li class=md-nav__item> <a href=../OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8710-Neutron-%E4%B8%8A/ title=4.7-OpenStack-Neutron-上 class=md-nav__link> 4.7-OpenStack-Neutron-上 </a> </li> <li class=md-nav__item> <a href=../OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8711-Neutron-%E4%B8%8B/ title=4.7-OpenStack-Neutron-下 class=md-nav__link> 4.7-OpenStack-Neutron-下 </a> </li> <li class=md-nav__item> <a href=../OpenStack--%E5%88%86%E4%BA%AB%E7%AF%8712-Ceilometer/ title=4.8-OpenSatck-Ceilometer class=md-nav__link> 4.8-OpenSatck-Ceilometer </a> </li> <li class=md-nav__item> <a href=../OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/ title=4.9-OpenStack-KVM class=md-nav__link> 4.9-OpenStack-KVM </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 第5章 备份 <span class="md-nav__icon md-icon"></span> </label> <a href=./ title="第5章 备份" class="md-nav__link md-nav__link--active"> 第5章 备份 </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#00- class=md-nav__link> 00-华为虚拟化备份方案 </a> </li> <li class=md-nav__item> <a href=#01- class=md-nav__link> 01-备份技术的基本模式 </a> </li> <li class=md-nav__item> <a href=#02- class=md-nav__link> 02-备份相关的技术 </a> <nav class=md-nav aria-label=02-备份相关的技术> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 备份原理 </a> </li> <li class=md-nav__item> <a href=#cbt class=md-nav__link> CBT技术 </a> <nav class=md-nav aria-label=CBT技术> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cbt_1 class=md-nav__link> 什么是CBT </a> </li> <li class=md-nav__item> <a href=#cbt_2 class=md-nav__link> CBT的功能原理 </a> </li> <li class=md-nav__item> <a href=#cbt_3 class=md-nav__link> CBT中的几个概念 </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 备份过程 </a> </li> <li class=md-nav__item> <a href=#cbt_4 class=md-nav__link> CBT加备份内容恢复数据： </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> 中间时刻备份删除是否影响后续备份数据 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#03- class=md-nav__link> 03-快照技术 </a> <nav class=md-nav aria-label=03-快照技术> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_4 class=md-nav__link> 重复数据删除 </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> 快照技术的分类和定义 </a> <nav class=md-nav aria-label=快照技术的分类和定义> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_6 class=md-nav__link> 分离镜像： </a> </li> <li class=md-nav__item> <a href=#cow class=md-nav__link> COW </a> </li> <li class=md-nav__item> <a href=#row class=md-nav__link> ROW </a> </li> <li class=md-nav__item> <a href=#wa class=md-nav__link> WA </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#04- class=md-nav__link> 04-备份组网类型 </a> </li> <li class=md-nav__item> <a href=#05- class=md-nav__link> 05-备份场景 </a> <nav class=md-nav aria-label=05-备份场景> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_7 class=md-nav__link> 备份恢复原理 </a> <nav class=md-nav aria-label=备份恢复原理> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_8 class=md-nav__link> 永远增量备份原理 </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> 无合成增量恢复原理 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> 虚拟化备份场景 </a> <nav class=md-nav aria-label=虚拟化备份场景> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_11 class=md-nav__link> 产品定位 </a> </li> <li class=md-nav__item> <a href=#ebackup class=md-nav__link> eBackup备份方案架构图 </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> 支持的备份组网方式 </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> 备份的限制条件 </a> <nav class=md-nav aria-label=备份的限制条件> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fusionspher class=md-nav__link> FusionSpher场景 </a> </li> <li class=md-nav__item> <a href=#vmware class=md-nav__link> VMware场景 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> 公有云备份场景 </a> <nav class=md-nav aria-label=公有云备份场景> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_15 class=md-nav__link> 产品定位 </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> 支持的组网类型 </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> 备份方案逻辑架构图 </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> 组件说明 </a> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> 公有云部署场景 </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> 备份限制条件 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> 私有云备份场景 </a> <nav class=md-nav aria-label=私有云备份场景> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_22 class=md-nav__link> 产品定位 </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> 支持的组网类型 </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> 系统逻辑架构 </a> </li> <li class=md-nav__item> <a href=#_25 class=md-nav__link> 部署场景 </a> </li> <li class=md-nav__item> <a href=#_26 class=md-nav__link> 限制条件 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#06- class=md-nav__link> 06-汇总 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../04-%E5%AE%B9%E7%81%BE/ title="第6章 容灾" class=md-nav__link> 第6章 容灾 </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#00- class=md-nav__link> 00-华为虚拟化备份方案 </a> </li> <li class=md-nav__item> <a href=#01- class=md-nav__link> 01-备份技术的基本模式 </a> </li> <li class=md-nav__item> <a href=#02- class=md-nav__link> 02-备份相关的技术 </a> <nav class=md-nav aria-label=02-备份相关的技术> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 备份原理 </a> </li> <li class=md-nav__item> <a href=#cbt class=md-nav__link> CBT技术 </a> <nav class=md-nav aria-label=CBT技术> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cbt_1 class=md-nav__link> 什么是CBT </a> </li> <li class=md-nav__item> <a href=#cbt_2 class=md-nav__link> CBT的功能原理 </a> </li> <li class=md-nav__item> <a href=#cbt_3 class=md-nav__link> CBT中的几个概念 </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 备份过程 </a> </li> <li class=md-nav__item> <a href=#cbt_4 class=md-nav__link> CBT加备份内容恢复数据： </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> 中间时刻备份删除是否影响后续备份数据 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#03- class=md-nav__link> 03-快照技术 </a> <nav class=md-nav aria-label=03-快照技术> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_4 class=md-nav__link> 重复数据删除 </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> 快照技术的分类和定义 </a> <nav class=md-nav aria-label=快照技术的分类和定义> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_6 class=md-nav__link> 分离镜像： </a> </li> <li class=md-nav__item> <a href=#cow class=md-nav__link> COW </a> </li> <li class=md-nav__item> <a href=#row class=md-nav__link> ROW </a> </li> <li class=md-nav__item> <a href=#wa class=md-nav__link> WA </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#04- class=md-nav__link> 04-备份组网类型 </a> </li> <li class=md-nav__item> <a href=#05- class=md-nav__link> 05-备份场景 </a> <nav class=md-nav aria-label=05-备份场景> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_7 class=md-nav__link> 备份恢复原理 </a> <nav class=md-nav aria-label=备份恢复原理> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_8 class=md-nav__link> 永远增量备份原理 </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> 无合成增量恢复原理 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> 虚拟化备份场景 </a> <nav class=md-nav aria-label=虚拟化备份场景> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_11 class=md-nav__link> 产品定位 </a> </li> <li class=md-nav__item> <a href=#ebackup class=md-nav__link> eBackup备份方案架构图 </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> 支持的备份组网方式 </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> 备份的限制条件 </a> <nav class=md-nav aria-label=备份的限制条件> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fusionspher class=md-nav__link> FusionSpher场景 </a> </li> <li class=md-nav__item> <a href=#vmware class=md-nav__link> VMware场景 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> 公有云备份场景 </a> <nav class=md-nav aria-label=公有云备份场景> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_15 class=md-nav__link> 产品定位 </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> 支持的组网类型 </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> 备份方案逻辑架构图 </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> 组件说明 </a> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> 公有云部署场景 </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> 备份限制条件 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> 私有云备份场景 </a> <nav class=md-nav aria-label=私有云备份场景> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_22 class=md-nav__link> 产品定位 </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> 支持的组网类型 </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> 系统逻辑架构 </a> </li> <li class=md-nav__item> <a href=#_25 class=md-nav__link> 部署场景 </a> </li> <li class=md-nav__item> <a href=#_26 class=md-nav__link> 限制条件 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#06- class=md-nav__link> 06-汇总 </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1>第5章 备份</h1> <h2 id=00->00-华为虚拟化备份方案<a class=headerlink href=#00- title="Permanent link">&para;</a></h2> <p>华为虚拟化备份方案针对华为**FusionSphere和VMware**虚拟化平台，基于虚拟机快照和CBT（Change Block Tracing）技术，对海量虚拟机数据提供全面的保护。华为虚拟化备份方案包括以下4个组成部分：</p> <ul> <li>备份对象</li> </ul> <p>即受保护对象，华为虚拟化备份方案可以对华为FusionSphere和VMware环境中的虚拟机提供数据保护。</p> <ul> <li>eBackup</li> </ul> <p>备份软件</p> <p>对虚拟化环境中的数据进行备份和恢复管理，eBackup备份软件支持模板部署和软件包部署2种方式，不能同时使用模板和软件包部署2种部署方式，可通过增加备份代理实现性能平滑扩展。</p> <ul> <li>备份存储</li> </ul> <p>支持SAN（Storage Area Network）存储或NAS（Network Attached Storage）存储，提升了备份性能和可靠性。</p> <ul> <li>备份策略</li> </ul> <p>支持为虚拟机、单个或多个虚拟机磁盘创建保护策略。支持永远增量备份，减少备份数据容量。</p> <h2 id=01->01-备份技术的基本模式<a class=headerlink href=#01- title="Permanent link">&para;</a></h2> <p><img alt=image-20200909155539506 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200909155539506.png></p> <h2 id=02->02-备份相关的技术<a class=headerlink href=#02- title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>概念</th> <th>说明</th> </tr> </thead> <tbody> <tr> <td>快照</td> <td>源数据在某个时间点的一致性数据副本，具有快速生成和占用存储空间少的特点。其原理与日常生活中的拍照类似，通过拍照可以快速记录下拍照时间点被拍照对象的状态。可通过使用快照对受保护对象进行备份和恢复。</td> </tr> <tr> <td>CBT</td> <td>CBT通过位图的方式跟踪记录虚拟机磁盘数据块的数据变更情况，即标记了自上次备份后发生数据变更的数据块。可在下次备份时，根据CBT查找有数据变更的数据块，实现增量备份的功能。生产端提供CBT方式实现备份功能。</td> </tr> <tr> <td>快照对比</td> <td>两个快照之间的差异对比，以卷地址的形式反映两者之间的数据差异。在增量备份的时候，仅备份存在数据差异卷地址上的数据。</td> </tr> <tr> <td>全量备份</td> <td>对于磁盘，将磁盘全部数据进行备份。对于虚拟机，将全部磁盘数据和虚拟机配置信息数据进行备份。对于LUN，将LUN上的全部数据进行备份。不论数据上次是何时修改或备份的，都将对全部数据进行备份。提供最全的备份保护，备份的时间较长，且占用空间较大。</td> </tr> <tr> <td>增量备份</td> <td>对于磁盘，将所有自上次磁盘全量备份或者磁盘增量备份操作以来所修改过的数据进行备份。对于虚拟机，将所有自上次虚拟机全量备份或者虚拟机增量备份操作以来所修改过的磁盘数据和全部虚拟机配置信息数据进行备份。对于LUN，将基于快照对比机制进行增量备份，备份的数据为V3存储LUN上的数据。每次备份的数据都较少，且备份时间较短。</td> </tr> </tbody> </table> <p>eBackup备份管理系统支持对FusionSphere和VMware环境下的虚拟机进行备份，也支持对存储设备中的LUN进行备份。备份方式适用场景如图用快照对比方式对虚拟机进行备份。</p> <h3 id=_1>备份原理<a class=headerlink href=#_1 title="Permanent link">&para;</a></h3> <ul> <li> <p>CBT方式</p> </li> <li> <p>第一次备份（全量）</p> <p>eBackup备份管理系统对磁盘启动第一次备份任务，默认执行全量备份，将磁盘中全部数据进行备份。</p> </li> <li> <p>后续备份（增量）</p> <p>eBackup备份管理系统对磁盘启动后续备份任务，默认执行增量备份。通过生产端提供的CBT方式获取前后两次备份之前的数据变更信息，从磁盘中取出有变更的数据进行备份。</p> </li> <li> <p>快照对比方式</p> </li> <li> <p>第一次备份（全量）</p> <p>eBackup备份管理系统对磁盘启动第一次备份任务，默认执行全量备份，将磁盘中全部数据进行备份。</p> </li> <li> <p>后续备份（增量）</p> <p>eBackup备份管理系统对磁盘启动后续备份任务，默认执行增量备份。通过对比生产端磁盘的前后两次快照获取前后两次备份之前的数据变更信息，从磁盘中取出有变更的数据进行备份。</p> </li> <li> <table> <thead> <tr> <th>备份方式</th> <th>对比说明</th> </tr> </thead> <tbody> <tr> <td>CBT</td> <td>在**生产端不保留快照**，对其存储空间占用较小。eBackup备份管理系统获取数据变更信息速率较快。</td> </tr> <tr> <td>快照对比</td> <td>在**生产端保留快照**，对其存储空间占用较大。eBackup备份管理系统获取数据变更信息速率较慢。</td> </tr> </tbody> </table> </li> </ul> <table> <thead> <tr> <th>备份方式</th> <th>适用场景</th> </tr> </thead> <tbody> <tr> <td>CBT</td> <td>FusionSphere（存储类型为虚拟化存储）VMware<br>**说明：**备份时自动开启CBT功能。</td> </tr> <tr> <td>快照对比</td> <td>FusionSphere（存储类型为FusionStorage）<br>存储设备的LUN</td> </tr> </tbody> </table> <p>在生产端，当虚拟机存储类型为**虚拟化存储**时，支持eBackup备份管理系统采用CBT方式对虚拟机进行备份。当虚拟机存储类型为**FusionStorage**时，仅支持eBackup备份管理系统采用快照对比方式对虚拟机进行备份。</p> <h3 id=cbt>CBT技术<a class=headerlink href=#cbt title="Permanent link">&para;</a></h3> <h4 id=cbt_1>什么是CBT<a class=headerlink href=#cbt_1 title="Permanent link">&para;</a></h4> <p>CBT又叫块变更追踪技术，是在备份领域常用的一种技术，Vmware，Microsoft Azure，华为都在使用。一般在云计算场景中能够较好的减少备份数据的体积大小。CBT技术和快照技术或者增量备份技术有些类似，CBT仅仅只是备份已经变更的块，而不备份基础结构中的每个VM的中的每个块。</p> <h4 id=cbt_2>CBT的功能原理<a class=headerlink href=#cbt_2 title="Permanent link">&para;</a></h4> <ul> <li>基于快照技术（ROW），将虚拟机快照后变化的数据记录到CBT中</li> <li>备份：仅仅备份变更的数据块（初次进行全量备份），提高备份时间</li> <li>恢复：仅恢复变更的数据块，提高恢复数据的时间。</li> </ul> <h4 id=cbt_3>CBT中的几个概念<a class=headerlink href=#cbt_3 title="Permanent link">&para;</a></h4> <ul> <li>内存位图：使用1bit大小的'0和1'记录虚拟机的每个块的变更信息进行登记，0表示未变更的数据块，1表示变更后的数据块。</li> <li>CBT文件：用来记录不同备份点上的数据块情况，使用4byte的字节标记CBT版本号</li> <li>CBT版本号：用于标识备份次数相对的序号，标记备份的数据来自第几次备份。</li> </ul> <h4 id=_2>备份过程<a class=headerlink href=#_2 title="Permanent link">&para;</a></h4> <ul> <li>首次完整备份</li> <li>每一次备份开始，初始化内存位图全0，产生CBT文件</li> <li>备份的过程数据需要持续的写入，使用快照技术对备份的数据进行定格，保证数据不发生并更。</li> </ul> <h4 id=cbt_4>CBT加备份内容恢复数据：<a class=headerlink href=#cbt_4 title="Permanent link">&para;</a></h4> <p>第四次备份技术后数据块中的数据为下图所示，此时要恢复t4时刻的数据。</p> <table> <thead> <tr> <th align=left>A'</th> <th align=left>B'</th> </tr> </thead> <tbody> <tr> <td align=left>C'</td> <td align=left>D</td> </tr> </tbody> </table> <p><img alt=Snipaste_2020-05-20_00-11-25.pngg src=https://gitee.com/hanstack/hanstack_image/raw/master/image/Snipaste_2020-05-20_00-11-25.pngg.png></p> <p>查看t4时刻的CBT版本号信息；根据CBT版本号可得；1表示为第一次备份的数据，2表示第二次备份的数据；3表示第三次备份的数据。只需要将指定的版本号和对应的备份数据对应起来就可以了。</p> <table> <thead> <tr> <th align=left>1</th> <th align=left>2</th> </tr> </thead> <tbody> <tr> <td align=left>1</td> <td align=left>3</td> </tr> </tbody> </table> <h4 id=_3>中间时刻备份删除是否影响后续备份数据<a class=headerlink href=#_3 title="Permanent link">&para;</a></h4> <p>假设我们将第2次备份删除，实际上由于第三次备份引用了第二次备份产生的数据B‘此时在第二次备份的B’是不会被删除的。在下面这个图中，假设我们要删除第三次备份数据。第三次备份产生的新增数据为D，其余的数据均为引用第二次备份和第一次完全备份数据。这一点很容易在CBT版本号看出来。我们看一下第四次备份的数据；并没有引用第三次的增量备份数据D，于是删除第三次备份数据时仅仅是删除掉了第三次的新增备份数据D。同样的假设我们要删除第二次的备份数据那么首先第二次的新增备份数据B'被引用了，实际上这个B‘不能够进行删除的。</p> <p>总之增量备份只能删除掉后续快照从未被引用过的数据。只有这样才不会影响后续备份数据的完整性。</p> <p><img alt=Snipaste_2020-05-20_00-20-12.pngg src=https://gitee.com/hanstack/hanstack_image/raw/master/image/Snipaste_2020-05-20_00-20-12.pngg.png></p> <p><img alt=image-20200911165257113 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200911165257113.png></p> <h2 id=03->03-快照技术<a class=headerlink href=#03- title="Permanent link">&para;</a></h2> <p><a href=https://www.ibm.com/developerworks/tivoli/library/t-snaptsm1/index.html></a></p> <h3 id=_4>重复数据删除<a class=headerlink href=#_4 title="Permanent link">&para;</a></h3> <p>作为一种数据压缩技术，重复数据删除通过自动查找重复数据，对于相同的数据只保留一个副本，并使用指向单一副本的指针替换其他重复副本，从而消除冗余数据。eBackup备份管理系统支持重复数据删除技术，以减少对后端存储空间的消耗，满足日益增长的存储容量需求。重复数据删除原理示意数据进行分块后，对不同的数据块进行相似性检测，通过删除重复的数据块（虚线框内数据代表重复数据）消除冗余数据。</p> <p><img alt=image-20200911165741462 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200911165741462.png></p> <h3 id=_5>快照技术的分类和定义<a class=headerlink href=#_5 title="Permanent link">&para;</a></h3> <ul> <li>定义：快照是特定数据集的一个完整可用拷贝，该数据集包含源数据在拷贝点的静态映像；快照可以是一个数据再现的一个副本或者复制。</li> <li>常见的快照技术分类</li> <li>全拷贝快照<ul> <li>Splitting a mirror（分离镜像）</li> </ul> </li> <li>差分快照<ul> <li>COW（Copy on write）:写前拷贝</li> <li>ROW（Redirtrect on Write）：写时重定向</li> <li>WA（Write Anywhere）:随机写</li> </ul> </li> </ul> <h4 id=_6>分离镜像：<a class=headerlink href=#_6 title="Permanent link">&para;</a></h4> <p>第一种快照是镜像分离。在即时拷贝之前构建数据镜像，当出现一个完整的可供复制的镜像时，就可以通过瞬间“分离”镜像来产生即时拷贝。这种技术的优点是速度快，创建快照无须额外工作。但缺点也很显明，首先它不灵活，不能在任意时刻进行快照；其次，它需要一个与数据卷容量相同的镜像卷；再者，连续地镜像数据变化影响存储系统的整体性能。</p> <p>分离镜像将存储在实体上的物理克隆（例如要为其创建快照的文件系统，卷或LUN）复制到相同类型和相同大小的另一个实体上。原始卷的全部内容被复制到单独的卷上。克隆的副本是高度可用的，因为它们是驻留在单独存储空间上的原始卷的精确副本。但是，由于存在数据复制，无法即时创建此类快照。或者，也可以通过将卷的先前存在的镜像“拆分”为两个来即时获得克隆，其副作用是原始卷的同步镜像少一个。对于每个快照，此快照方法需要的存储空间与原始数据相同。</p> <p><img alt=image-20200913210732738 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200913210732738.png></p> <ul> <li>分离镜像的生命周期</li> </ul> <p>分离镜像快照技术在快照时间点到来之前，首先要为源数据卷创建并维护一个完整的物理镜像卷：同一数据的两个副本分别保存在由源数据卷和镜像卷组成的镜像对上。在快照时间点到来时，镜像操作被停止，镜像卷转化为快照卷，获得一份数据快照。快照卷在完成数据备份等应用后，将与源数据卷重新同步，重新成为镜像卷。对于要同时保留多个连续时间点快照的源数据卷，必须预先为其创建多个镜像卷，当第一个镜像卷被转化为快照卷作为数据备份后，初始创建的第二个镜像卷立即与源数据卷同步，与源数据卷成为新的镜像对。镜像分裂快照操作的时间非常短，仅仅是断开镜像卷对所需的时间，通常只有几毫秒，这样小的备份窗口几乎不会对上层应用造成影响，但是这种快照技术缺乏灵活性，无法在任意时间点为任意的数据卷建立快照。另外，它需要一个或者多个与源数据卷容量相同的镜像卷，同步镜像时还会降低存储系统的整体性能。</p> <p><img alt=image-20200913210832040 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200913210832040.png></p> <ul> <li>全拷贝快照的技术特点</li> </ul> <p>空间占用：每一次全拷贝快照需要与源盘相同大小的数据空间</p> <p>创建过程：每一次全拷贝快照都需要完全数据同步</p> <p>读写操作影响：</p> <p>​ 源卷的读操作不受影响</p> <p>​ 源卷的写操作受到数据同步的影响；<strong>写负载发生在镜像分离前</strong>，IO负载镜像分离后低，分离前数据同步高。</p> <p>​ 创建完成就，快照（卷）的读写操作保持最优。</p> <h4 id=cow>COW<a class=headerlink href=#cow title="Permanent link">&para;</a></h4> <p><img alt=image-20200913214004555 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200913214004555.png></p> <p><img alt=image-20200913214118460 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200913214118460.png></p> <p><img alt=image-20200913214226482 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200913214226482.png></p> <ul> <li>COW总结：</li> </ul> <p><img alt=image-20200913214858080 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200913214858080.png></p> <ul> <li> <p>当一个新的写操作执行时：</p> <p>写时复制使用预先分配的快照空间进行快照创建。</p> <p>在快照时间点之后；并不会复制进行数据复制，只是复制了原始物理位置的元数据。</p> <p>快照创建速度非常快。</p> <p>快照副本跟踪原始卷的数据变化；如果原始卷产生写操作，数据块产生更新，首先将原始卷上要更新的数据块上的数据拷贝写入到快照卷，然后将变更数据写入源卷的快照卷。<strong>写时拷贝需要一次读和两次写操作，即将原始卷数据块读入并写入快照卷，然后将更新数据写入原始卷。</strong></p> </li> <li> <p>COW的特点：</p> <p>源卷状态：源卷保持最新状态</p> <p>写操作步骤：</p> <p>​ 1.首先独处写操作将要覆盖地址的当前数据</p> <p>​ 2.读出数据保存至专用空间并建立索引</p> <p>​ 3.新的写操作执行</p> <p>读写路径的影响：</p> <p>​ 源卷的读路径基本无影响</p> <p>​ 源卷的写操作受拷贝影响</p> <p>​ 对快照（卷）的读写路径都有影响</p> </li> </ul> <p><strong>两次快照之间的多次写操作</strong></p> <ul> <li>第一次写动作，需要一次读，二次写操作</li> <li>后续的写动作，只需写入到源卷，不在需要拷贝操作</li> </ul> <h4 id=row>ROW<a class=headerlink href=#row title="Permanent link">&para;</a></h4> <p>源卷状态冻结</p> <p><img alt=image-20200913220651247 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200913220651247.png></p> <p>​ 到源盘的新的写操作被存入日志并建立索引</p> <p><img alt=image-20200913220705989 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200913220705989.png></p> <p>​ 读源卷时，先检索日志；读快照时源卷需要引用</p> <p>​ 当快照取消时，写日志必须全部执行以与源卷保证数据状态同步更新</p> <p><img alt=image-20200913220721838 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200913220721838.png></p> <ul> <li>读写路径影响</li> <li>源卷的写操作基本无影响</li> <li>源卷的读路径潜在受影响</li> <li>快照（卷）的读写路径最优化</li> <li>源卷的状态不是最新，快照卷故障将会导致源卷数据丢失</li> </ul> <p><strong>只需一次写操作，直接将新数据写入快照卷，同时更新位图映射指针；</strong></p> <h4 id=wa>WA<a class=headerlink href=#wa title="Permanent link">&para;</a></h4> <p><img alt=image-20200913221813354 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200913221813354.png></p> <p><strong>WA的特点</strong></p> <p>​ 1.源盘使用真实块的映像重定向</p> <p>​ 2.新写操作定向到空闲块，而不是直接覆盖数据块</p> <p>​ 3.映射反应当前状态和潜在维护多个“快照”</p> <p><strong>性能受数据碎片影响</strong></p> <p>​ 1.快照过程会产生大量的碎片，性能受影响，需要定时整理</p> <p><strong>快照区大小需要预分配，并受到空间限制</strong></p> <p>1.快照区和源数据需要在同一个文件系统中，因此大小要预分配，并受到卷大小的限制。</p> <h2 id=04->04-备份组网类型<a class=headerlink href=#04- title="Permanent link">&para;</a></h2> <p>Ebackup是可以备份VMware虚拟机和Fusioncompute虚拟机的软件。<strong>备份磁盘可以，不能备份分区</strong>。</p> <p>LAN-Base备份部署长江适合于备份数据量小，对备份窗口没有特殊要求的场景。</p> <p>LAN-Free备份部署场景适合于备份数据量较大，对备份窗口要求比较严格的场景。</p> <p><strong>LAN-Base</strong></p> <p><img alt=image-20200913233632247 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200913233632247.png></p> <p><strong>控制流：</strong></p> <p><strong>控制流：</strong></p> <ul> <li> <p>管理员通过备份管理平面的IP地址登录到备份管理系统下发执行备份计划的操作；</p> </li> <li> <p>备 份服务器通过内部通信平面将该指令发送给备份代理去执行；</p> </li> <li> <p>备份代理收到指令后通过生产管理平面通知VRM；</p> </li> <li> <p>找 到需要备份虚拟机所在的CNA节点；</p> </li> <li> <p>接着给CNA下发打快照的操作；</p> </li> <li> <p>CAN（VIMS）对需要备份的虚拟机进行快照；（或者CAN通知Fusionstorage去打快照）</p> </li> <li> <p>CNA返回快照的结果以及虚拟机所在数据存储的块设备的SCSI_ID给VRM；</p> </li> <li> <p>VRM再将其发送给备份代理，此时控制流结束。</p> </li> </ul> <p><strong>数据流：</strong></p> <ul> <li> <p>备份代理在本地没有查找到生产存储的SCSI-ID，此时备份代理通知CNA；</p> </li> <li> <p>CNA从生产存储读取需要备份的数据并经过LAN网络发送给备份代理；</p> </li> <li> <p>最后备份代理将其备份到备份存储中。</p> </li> </ul> <p><strong>LAN-Free</strong></p> <p><img alt=image-20200913233802401 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200913233802401.png></p> <p><strong>控制流：</strong></p> <ul> <li> <p>管理员通过备份管理平面的IP地址登录到备份管理系统下发执行备份计划的操作；</p> </li> <li> <p>备 份服务器通过内部通信平面将该指令发送给备份代理去执行；</p> </li> <li> <p>备份代理收到指令后通过生产管理平面通知VRM；</p> </li> <li> <p>找 到需要备份虚拟机所在的CNA节点；</p> </li> <li> <p>接着给CNA下发打快照的操作；</p> </li> <li> <p>CAN（VIMS）对需要备份的虚拟机进行快照；（或者CAN通知Fusionstorage去打快照）</p> </li> <li> <p>CNA返回快照的结果以及虚拟机所在数据存储的块设备的SCSI_ID给VRM；</p> </li> <li> <p>VRM再将其发送给备份代理，此时控制流结束。</p> </li> </ul> <p><strong>数据流：</strong></p> <ul> <li> <p>备份代理在本地查找到生产存储的SCSI-ID，此时备份代理挂载生产存储；</p> </li> <li> <p>备份代理从生产存储获取所需要备份的数据</p> </li> <li> <p>最后备份代理将其备份到备份存储中。</p> </li> </ul> <p><strong>Server-Free</strong></p> <p><img alt=image-20200913234156178 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200913234156178.png></p> <p>生产存储支持自身打快照，并且备份软件同时兼容此备份类型，</p> <p>通过备份服务器发送控制指令，</p> <p>首先对需要备份的数据卷做一个快照（或者其他类似的操作），形成一个副本，</p> <p>然后利用备份服务器将此快照卷通过Mount命令挂载。</p> <p>备份服务器将此卷上的数据备份至备份服务器。</p> <p><strong>优点</strong></p> <ul> <li>对业务主机几乎无影响</li> <li>对现有业务网络几乎无影响</li> <li>备份性能好，依赖于SAN网络</li> </ul> <p><strong>缺点</strong></p> <ul> <li>对网络的投资较大</li> <li>对设备要求较高</li> </ul> <h2 id=05->05-备份场景<a class=headerlink href=#05- title="Permanent link">&para;</a></h2> <h3 id=_7>备份恢复原理<a class=headerlink href=#_7 title="Permanent link">&para;</a></h3> <p>eBackup采用永远增量备份和无合成增量恢复。</p> <h4 id=_8>永远增量备份原理<a class=headerlink href=#_8 title="Permanent link">&para;</a></h4> <p>eBackup首次备份方式采用全量备份，后续采用永远增量备份。在同一个备份计划中，同一个备份对象产生的所有备份映像（备份映像1,2,3）按照时间先后顺序形成一个**备份链**，该备份链上的所有备份映像均根据同一备份策略备份同一个备份对象产生，且存储在同一个存储库上。</p> <p><img alt=image-20200914002143823 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200914002143823.png></p> <p>在不同时刻对某一磁盘分别执行3次备份后，生成的3个备份映像。A，B，C，D，E，F为备份映像中的备份数据块。</p> <ul> <li>第一次备份为全量备份，生成备份映像1；后续备份均为增量备份，生成备份映像2,3。</li> <li>第二次增量备份时，磁盘上数据块B，C发现变化，则备份映像2中生成新的备份数据块B1，C1；数据块A，D未发生变化，则备份映像2中引用备份映像1中的备份数据块A，D。</li> <li>第三次增量备份时，磁盘上数据块D发生变化，则备份映像3中生成新的备份数据块D1；数据块A，B1以及C1未发生变化，则备份映像3中引用备份映像2中的备份数据块A，B1以及C1；在第三次增量备份时，磁盘上新写入数据块E，F，则备份映像3中生成新的备份数据块E，F。</li> <li>当某一备份映像被删除后，该备份映像中被引用的备份数据块不会被删除，其余备份数据块将被删除。如：删除备份映像2时，数据块D被删除；数据块A，B1，C1被备份映像3引用，不会被删除。</li> </ul> <h4 id=_9>无合成增量恢复原理<a class=headerlink href=#_9 title="Permanent link">&para;</a></h4> <p>eBackup恢复数据时，无需将多个备份映像的数据块合成到一个备份映像，每一个备份映像均是一个“虚拟”的全备映像，且恢复数据时采用增量恢复。</p> <p><img alt=image-20200914002340353 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200914002340353.png></p> <p>某一时刻磁盘数据块C1，F损坏，采用备份映像3恢复磁盘数据。</p> <ul> <li>恢复数据时采用增量恢复，对当前磁盘损坏时刻的数据与某一备份映像的数据做比较，两者无差别则无需恢复，只需恢复有差别的故障点。图中采用备份映像3恢复磁盘数据时，只需恢复数据块C1，F。</li> <li>用备份映像恢复磁盘数据时，恢复前无需做备份数据块的合成。如采用备份映像3恢复磁盘数据时，无需将备份映像2中的备份数据块C1合入备份映像3。</li> </ul> <h3 id=_10>虚拟化备份场景<a class=headerlink href=#_10 title="Permanent link">&para;</a></h3> <h4 id=_11>产品定位<a class=headerlink href=#_11 title="Permanent link">&para;</a></h4> <p>eBackup虚拟化备份方案针对华为FusionSphere和VMware虚拟化平台，基于虚拟机/磁盘快照和CBT（Change Block Tracing）技术，对海量虚拟机数据提供全面的保护。eBackup虚拟化备份方案包括以下4个组成部分：</p> <ul> <li>备份对象</li> </ul> <p>即受保护对象，eBackup虚拟化备份方案可以对**华为FusionSphere**和**VMware**环境中的**虚拟机**提供数据保护。</p> <ul> <li>eBackup备份软件</li> </ul> <p>对虚拟化环境中的数据进行备份和恢复管理，eBackup备份软件支持模板部署和软件包部署两种方式。<strong>在一套eBackup备份系统中不能同时使用模板和软件包两种部署方式</strong>，可通过增加备份代理实现性能平滑扩展。</p> <ul> <li>备份存储</li> </ul> <p>支持**SAN**（Storage Area Network）存储、<strong>NAS</strong>（Network Attached Storage）存储和**S3**（Simple Storage Service）存储。</p> <ul> <li>备份策略</li> </ul> <p>支持为虚拟机、单个或多个云磁盘创建保护策略。支持永远增量备份，减少备份数据容量。</p> <h4 id=ebackup>eBackup备份方案架构图<a class=headerlink href=#ebackup title="Permanent link">&para;</a></h4> <p><img alt=image-20200914002738195 src=https://gitee.com/hanstack/hanstack_image/raw/master/image/image-20200914002738195.png></p> <ul> <li>生产存储</li> <li>FusionSphere虚拟化环境<ul> <li>虚拟化存储</li> <li>FusioStorage存储（一套eBackup仅支持对接一套FusionStorage作为生产存储）</li> </ul> </li> <li>VMware虚拟化环境<ul> <li>本地存储</li> <li>SAN</li> <li>NFS</li> </ul> </li> <li>备份存储</li> <li>SAN</li> <li>NAS</li> <li>S3</li> </ul> <h4 id=_12>支持的备份组网方式<a class=headerlink href=#_12 title="Permanent link">&para;</a></h4> <ul> <li>LAN-Base</li> <li>LAN-Free</li> </ul> <h4 id=_13>备份的限制条件<a class=headerlink href=#_13 title="Permanent link">&para;</a></h4> <h5 id=fusionspher>FusionSpher场景<a class=headerlink href=#fusionspher title="Permanent link">&para;</a></h5> <ul> <li>不支持对VRM管理节点进行备份。</li> <li>当备份服务器和备份代理部署在虚拟化环境中时，不支持对备份服务器或备份代理所在的虚拟机进行备份</li> <li>若虚拟机磁盘被设置为“快照时不包含该磁盘”，对该虚拟机进行备份时，不对该磁盘进行备份。（<strong>备份功能是基于快照实现的</strong>）</li> <li>不支持对模板虚拟机、链接克隆虚拟机进行备份。</li> <li>如果虚拟机磁盘被设置为“独立-持久”或“独立-非持久”，对该虚拟机进行备份时，不对该磁盘进行备份。</li> <li>虚拟机的最后一份备份映像会被保留，不受其过期时间限制。</li> <li>对于eBackup备份的虚拟机，单个虚拟机总容量不超过64TB。</li> </ul> <h5 id=vmware>VMware场景<a class=headerlink href=#vmware title="Permanent link">&para;</a></h5> <ul> <li>不支持对不受快照影响的磁盘进行备份，当虚拟机中包括不受快照影响的磁盘和受快照影响的磁盘时，备份过程中虚拟机中不受快照影响的磁盘将被忽略不进行备份。</li> <li>不支持对RDM（RAM Device Mapping）磁盘进行备份。</li> <li>不支持对连接到共享SCSI控制器的磁盘进行备份。</li> <li>不支持对安装eBackup备份软件的虚拟机和vCenter虚拟机进行备份。</li> </ul> <h3 id=_14>公有云备份场景<a class=headerlink href=#_14 title="Permanent link">&para;</a></h3> <h4 id=_15>产品定位<a class=headerlink href=#_15 title="Permanent link">&para;</a></h4> <p>华为公有云解决方案提供多样化的服务给用户。涵盖IaaS、PaaS和SaaS的多种服务。通过华为公有云解决方案，可以为用户提供更加专业、及时的IT服务。</p> <p>VBS（Volume Backup Service）即云硬盘备份，提供对公有云环境中弹性云服务器的基于磁盘快照技术的本地数据保护服务。</p> <p>华为公有云备份方案包括以下4个组成部分：</p> <ul> <li>备份对象</li> </ul> <p>即受保护对象，华为公有云备份方案可以对华为公有云环境中的**云硬盘**提供数据保护。</p> <ul> <li>eBackup备份软件</li> </ul> <p>对VBS服务提供底层软件功能。对云环境中的数据进行备份和恢复管理，eBackup备份软件**支持模板部署和软件包部署**两种方式。在一套eBackup备份系统中**不能同时使用**模板和软件包两种部署方式，可通过增加备份代理实现性能平滑扩展。</p> <ul> <li>备份存储</li> </ul> <p>支持**S3**（Simple Storage Service）存储。</p> <ul> <li>备份策略</li> </ul> <p>支持为单个或多个虚拟机磁盘创建保护策略。支持永远增量备份，减少备份数据容量。</p> <h4 id=_16>支持的组网类型<a class=headerlink href=#_16 title="Permanent link">&para;</a></h4> <ul> <li>LAN-Free</li> </ul> <h4 id=_17>备份方案逻辑架构图<a class=headerlink href=#_17 title="Permanent link">&para;</a></h4> <p><img alt=img src=https://gitee.com/hanstack/hanstack_image/raw/master/image/zh-cn_image_0171032234.png></p> <h4 id=_18>组件说明<a class=headerlink href=#_18 title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>组件</th> <th>说明</th> </tr> </thead> <tbody> <tr> <td>备份服务器</td> <td>负责备份和恢复等任务的调度和监控，备份存储和生产系统的管理，并直接接收和响应用户的请求。备份服务器同时具备备份代理功能。</td> </tr> <tr> <td>备份代理</td> <td>负责接收备份服务器下发的备份和恢复等任务，与生产系统和备份存储直接交互，以执行任务。</td> </tr> <tr> <td>维护终端</td> <td>提供基于GUI和CLI的管理，实现对备份系统的监控、任务管理以及系统管理。用户通过维护终端发起备份恢复业务的请求。</td> </tr> <tr> <td>eBackup driver</td> <td>为eBackup基于OpenStack Cinder Backup框架实现的一个备份驱动。部署在每一个OpenStack Cinder节点上，配合OpenStack Cinder备份和恢复API，通过调用eBackup RESTful API实现云硬盘备份和恢复功能。</td> </tr> </tbody> </table> <h4 id=_19>公有云部署场景<a class=headerlink href=#_19 title="Permanent link">&para;</a></h4> <p><img alt=img src=https://gitee.com/hanstack/hanstack_image/raw/master/image/zh-cn_image_0171032236.png></p> <ul> <li>在FusionSphere OpenStack的全部OpenStack节点上安装eBackup driver，该eBackup driver用于和cinder driver以及eBackup服务器进行通信。</li> <li>eBackup将备份数据保存在对象存储中。</li> <li>eBackup服务器支持将告警上报至ManageOne OperationCenter（OC）服务器。</li> <li>通过OpsMonitor监控eBackup服务器性能。</li> </ul> <h4 id=_20>备份限制条件<a class=headerlink href=#_20 title="Permanent link">&para;</a></h4> <ul> <li>eBackup服务器仅支持虚拟化部署方式。</li> <li> <p>eBackup备份系统与被级联层OpenStack控制节点为1对1的关系。1套级联层OpenStack系统中包含n个被级联层OpenStack控制节点，需要部署n套eBackup备份系统。</p> </li> <li> <p>**仅支持S3**作为保存租户云硬盘数据的备份存储。</p> </li> </ul> <h3 id=_21>私有云备份场景<a class=headerlink href=#_21 title="Permanent link">&para;</a></h3> <h4 id=_22>产品定位<a class=headerlink href=#_22 title="Permanent link">&para;</a></h4> <p>华为FusionSphere解决方案基于OpenStack架构，在保证开放兼容的前提下，实现数据中心内各类软硬件资源的虚拟化，并提供统一的资源管理与调度能力，实现云数据中心和NFV基础设施的服务化。</p> <p>eBackup私有云备份方案针对华为FusionSphere OpenStack解决方案，基于OpenStack Cinder卷快照和CBT技术（针对不同类型的存储设备实现方式不尽相同，例如OceanStor V3系列为快照比对方式、FusionStorage为差量位图卷方式），对海量云磁盘数据提供全面的保护。</p> <p>eBackup私有云备份方案包括以下4个组成部分：</p> <ul> <li>备份对象</li> </ul> <p>即受保护对象，eBackup私有云备份方案可以对eBackup私有云场景下的云磁盘提供数据保护。支持如下几种类型的云磁盘：OpenStack+VRM+V3、OpenStack+VRM+FusionStorage、OpenStack+KVM+V3、OpenStack+KVM+FusionStorage。其中，对于V3存储仅支持小LUN场景的备份。</p> <ul> <li> <p>小LUN：虚拟机的一个卷对应存储设备上面的一个卷。</p> </li> <li> <p>大LUN：虚拟机上的多个卷对应存储设备上的一个卷。</p> </li> <li> <p>eBackup备份软件</p> </li> </ul> <p>对eBackup私有云环境中的云磁盘数据进行备份和恢复管理，eBackup备份软件支持物理机部署，采用软件包方式进行安装。</p> <ul> <li>备份存储</li> </ul> <p>支持**NAS**（Network Attached Storage）和**S3**（Simple Storage Service）存储。</p> <ul> <li>备份策略</li> </ul> <p>支持为单个或多个云磁盘创建保护策略。支持永远增量备份，减少备份数据容量。</p> <h4 id=_23>支持的组网类型<a class=headerlink href=#_23 title="Permanent link">&para;</a></h4> <ul> <li>支持存储网络的LAN-Free备份恢复，提高备份恢复性能</li> </ul> <h4 id=_24>系统逻辑架构<a class=headerlink href=#_24 title="Permanent link">&para;</a></h4> <p><img alt=img src=https://gitee.com/hanstack/hanstack_image/raw/master/image/zh-cn_image_0171032272.png></p> <h4 id=_25>部署场景<a class=headerlink href=#_25 title="Permanent link">&para;</a></h4> <p><img alt=img src=https://gitee.com/hanstack/hanstack_image/raw/master/image/zh-cn_image_0171032274.png></p> <ul> <li>在FusionSphere OpenStack的全部OpenStack节点上安装eBackup driver，该eBackup driver用于和cinder driver以及eBackup服务器进行通信。</li> <li>eBackup将备份数据保存在NAS类型和S3类型的备份存储中。</li> </ul> <h4 id=_26>限制条件<a class=headerlink href=#_26 title="Permanent link">&para;</a></h4> <ul> <li>在一套eBackup备份系统中，eBackup备份软件必须全部部署在**物理服务器**环境中。</li> <li>不支持CIFS类型文件系统作为eBackup备份管理系统管理数据的备份存储。</li> <li> <p>同一套eBackup备份系统中，不能同时支持私有云备份和虚拟化备份。</p> </li> <li> <p>支持生产存储类型为OceanStor V3和FusionStorage场景的卷备份。</p> </li> <li> <p>仅支持对租户虚拟机的卷进行备份，不支持对租户虚拟机进行备份。</p> </li> <li> <p>对于S3和CIFS类型的存储单元，不支持备份数据的重复删除。</p> </li> <li> <p>恢复到新卷时，目标卷必须与原卷在同一AZ，不支持跨AZ恢复。</p> </li> <li>恢复到新卷时，目标卷容量必须大于或者等于原卷的容量。</li> </ul> <h2 id=06->06-汇总<a class=headerlink href=#06- title="Permanent link">&para;</a></h2> <p><strong>eBackup不支持对什么类型的虚拟机进行整机恢复？</strong></p> <p>对通过FusionManager在FusionCompute上创建的虚拟机进行恢复时，不支持虚拟机整机恢复、批量整机恢复。</p> <p>对通过FusionSphere OpenStack在FusionCompute上创建的虚拟机进行恢复时，不支持虚拟机整机恢复、批量恢复。</p> <p>对通过FusionAccess创建的虚拟机，不支持虚拟机整机恢复、批量整机恢复。</p> <p><strong>eBackup不支持对什么配置模式的磁盘进行LAN-Free恢复？</strong></p> <p>eBackup不支持对磁盘的配置模式为“精简”和“普通延迟置零”时进行LAN-Free恢复。</p> <p><strong>虚拟化场景下，使用SAN作为备份存储时是否支持扩容？</strong></p> <p>虚拟化场景下，SAN类型的存储单元不支持扩容，请勿对SAN类型的存储单元对应的LUN做扩容操作，否则可能会导致存储单元不可访问。</p> <p><strong>eBackup不支持对哪种磁盘模式执行备份？</strong></p> <p>eBackup不支持对磁盘模式为“独立-持久”以及“独立-非持久”的磁盘执行备份，支持对磁盘模式为“从属”模式的磁盘执行备份。</p> <p><strong>eBackup管理数据备份存储与保存用户虚拟机数据的备份存储是否可以使用同一个共享目录？</strong></p> <p>eBackup管理数据备份存储与保存用户虚拟机数据的备份存储不可使用同一个NAS共享目录，不可使用同一个LUN，不可使用同一个桶（对象存储的概念），否则会导致备份任务失败。</p> <p><strong>eBackup备份过不过CNA节点？</strong></p> <ul> <li> <p>如果采用LAN-Base组网，控制流和数据流都会过CAN节点</p> </li> <li> <p>如果采用LAN-Free组网，控制流会到CAN节点，数据流不会。</p> </li> </ul> <p><strong>eBackup是谁实现的快照，谁通知备份代理打快照。</strong></p> <ul> <li> <p>生产存储为虚拟化存储：通过VIMS给指定的vhd文件实现快照</p> </li> <li> <p>生产存储为FusionStorage：FusionStorage自身实现打快照</p> </li> </ul> <p><strong>eBackup的生产存储为什么要是虚拟化的存储或者FusionStorage？</strong></p> <p>因为eBackup是在线的备份，在备份的过程中会有数据的变更，进而会引发数据一致性问题，需要采用快照来做到数据的一致性，要求数据存储能够打快照，所以生产存储必须是虚拟化的数据存储或者是FusionStorage。</p> <p><strong>Lan-Base和LAN-Free的区别？</strong></p> <ul> <li> <p>LAN-Base组网控制流和数据流过CNA；LAN-Free组网控制流过CNA，数据量不过CNA</p> </li> <li> <p>备份代理能不能扫描的快照对应的数据存储的块设备的SCSI_ID，如果能扫描到就走LAN-free，否则就是LAN-BASE</p> </li> </ul> <p><strong>eBackup备份了什么数据：</strong></p> <ul> <li> <p>虚拟机的描述信息</p> </li> <li> <p>虚拟机的磁盘文件</p> </li> <li> <p>CBT文件</p> </li> </ul> <p><strong>eBackup能只备份虚拟机磁盘中的一个文件吗？</strong></p> <p>不可以，eBackup是针对虚拟机进行备份，备份的是虚拟机的磁盘。</p> <p><strong>eBackup对虚拟机进行备份后，数据大小会不会减少？</strong></p> <p>CBT对虚拟机备份时不会对全0数据块进行备份，所以会减少。eBackup支持重删压缩功能，开启后，也会减少。</p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../OpenStack--%E5%88%86%E4%BA%AB%E7%AF%873-KVM/ title=4.9-OpenStack-KVM class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> 上一页 </span> 4.9-OpenStack-KVM </div> </div> </a> <a href=../04-%E5%AE%B9%E7%81%BE/ title="第6章 容灾" class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> 下一页 </span> 第6章 容灾 </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2016 - 2020 Han Lu </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://www.hcieonline.com/weixinme/ target=_blank rel=noopener title=www.hcieonline.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><path d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"/></svg> </a> <a href=https://www.hcieonline.com/QQme/ target=_blank rel=noopener title=www.hcieonline.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"/></svg> </a> <a href=https://instagram.com/stefaniehanlulu target=_blank rel=noopener title=instagram.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> <a href="mailto:<lickwolf@163.com>" target=_blank rel=noopener title="lickwolf on email" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.11f47dfd.min.js></script> <script src=../assets/javascripts/bundle.7e09dd84.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "\u590d\u5236", "clipboard.copied": "\u5df2\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c"}</script> <script>
        app = initialize({
          base: "..",
          features: ['tabs'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>